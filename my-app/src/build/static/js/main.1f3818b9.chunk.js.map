{"version":3,"sources":["firebase.js","components/loginpage.js","contexts/AuthContext.js","components/Chats.js","App.js","reportWebVitals.js","index.js"],"names":["auth","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","Loginpage","style","display","justifyContent","marginTop","Card","body","className","maxWidth","CardBody","CardTitle","tag","fontWeight","CardText","Button","color","onClick","signInWithRedirect","GoogleAuthProvider","icon","faGoogle","CardFooter","backgroundColor","AuthContext","React","createContext","AuthProvider","children","useState","loading","setLoading","user","setUser","history","useHistory","useEffect","onAuthStateChanged","push","value","Provider","Chats","useContext","handleLogout","a","signOut","getFile","url","fetch","response","blob","data","File","type","axios","get","headers","email","uid","then","catch","formData","FormData","append","photoURL","avatar","name","post","err","console","log","Navbar","light","expand","NavbarBrand","href","Nav","navbar","height","projectID","userName","userSecret","App","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1f3818b9.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\n\r\nexport const auth = firebase.initializeApp({\r\n    apiKey: \"AIzaSyAa_xc5J5GmZ7YIKDBCUnUqprqNtLYcgg4\",\r\n    authDomain: \"chatapp-8ce42.firebaseapp.com\",\r\n    projectId: \"chatapp-8ce42\",\r\n    storageBucket: \"chatapp-8ce42.appspot.com\",\r\n    messagingSenderId: \"489897099496\",\r\n    appId: \"1:489897099496:web:6016feddab221184f4495d\"\r\n  }).auth();\r\n","import React from 'react'\r\nimport \"firebase/app\";\r\nimport {auth} from \"../firebase\"\r\nimport firebase  from 'firebase/app';\r\nimport { Card, Button, CardTitle, CardText,CardFooter, CardBody } from 'reactstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faGoogle } from '@fortawesome/free-brands-svg-icons'\r\n\r\n\r\nfunction Loginpage() {\r\n    return (\r\n        <div style={{display:\"flex\",justifyContent:\"center\" ,marginTop:\"10%\"}}>\r\n         <Card body className=\"text-center\" style={{maxWidth:\"500px\"}}>\r\n             <CardBody>\r\n        <CardTitle tag=\"h2\" style={{fontWeight:\"900\"}}>CHAT APP</CardTitle>\r\n        <hr/>\r\n        <CardText>This site is end to end encrypted </CardText>\r\n        <Button color=\"primary\" onClick={()=>auth.signInWithRedirect(new firebase.auth.GoogleAuthProvider())} ><FontAwesomeIcon icon={faGoogle} /> Signin With Google </Button>\r\n        </CardBody>\r\n        <CardFooter style={{backgroundColor:\"grey\",color:\"#fff\"}}>CopyrightÂ©codewizard.All right reserved</CardFooter>\r\n      </Card>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loginpage\r\n","import React,{useContext,useState,useEffect} from 'react'\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {auth} from \"../firebase\";\r\n\r\nconst  AuthContext = React.createContext();\r\nexport const useAuth=()=>useContext(AuthContext);\r\n\r\nexport const AuthProvider =({children})=>{\r\n    const [loading,setLoading] = useState(true);\r\n    const [user,setUser]=useState(null);\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n      auth.onAuthStateChanged((user)=>{\r\n        setUser(user);\r\n        setLoading(false);\r\n        if(user){history.push(\"/chats\")};\r\n    })  \r\n    },[user,history])\r\n\r\n    const value = { user };\r\n\r\n    return (\r\n        <AuthContext.Provider value={value}>\r\n            {!loading && children}\r\n        </AuthContext.Provider>\r\n    )\r\n\r\n}\r\n","import React,{useState,useEffect} from 'react'\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {ChatEngine} from \"react-chat-engine\";\r\nimport {auth} from \"../firebase\";\r\nimport {useAuth} from \"../contexts/AuthContext\";\r\nimport axios from \"axios\";\r\nimport {\r\n    Navbar,\r\n    NavbarBrand,\r\n    Nav,\r\n    Button\r\n  } from 'reactstrap';\r\n\r\nfunction Chats() {\r\n    const history = useHistory();\r\n    const {user} = useAuth();\r\n    const {loading,setLoading}=useState(true);\r\n    const handleLogout = async () => {\r\n        await auth.signOut();\r\n        history.push(\"/\");\r\n    }\r\n    const getFile = async (url)=>{\r\n        const response = await fetch(url)\r\n        const data = await response.blob();\r\n        return new File([data],'userPhoto.jpg',{type:\"/image/jpeg\"})\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(!user){\r\n            history.push(\"/\");\r\n            return ;\r\n        } \r\n            axios.get('https://api.chatengine.io/users/me',{\r\n            headers:{\r\n                \"Project-Id\" :\"70a93698-026d-4e33-b11e-da5e02496702\",\r\n                \"User-Name\":user.email,\r\n                \"User-Secret\":user.uid,\r\n            }\r\n        })\r\n        .then(()=>{\r\n            setLoading(false);\r\n        })\r\n        .catch(()=>{\r\n            let formData = new FormData();\r\n            formData.append(\"username\",user.email);\r\n            formData.append(\"email\",user.email);\r\n            formData.append(\"secret\",user.uid);\r\n            getFile(user.photoURL)\r\n            .then((avatar)=>{\r\n                formData.append(\"avatar\",avatar,avatar.name);\r\n                axios.post(\"https://api.chatengine.io/users\",\r\n                formData,\r\n                {headers:{\"private-key\": \"e9ae4e90-6739-4d95-827d-184076a7645d\"}})\r\n                .then(()=>setLoading(false))\r\n                .catch((err)=>console.log(err))\r\n            })\r\n        })\r\n    }, [user,history])\r\n    \r\n\r\n    if(!user || loading) {return \"Loading...\"};\r\n\r\n    return (\r\n        <div>\r\n            <Navbar color=\"light\" light expand=\"md\">\r\n        <NavbarBrand href=\"/\">Chat App</NavbarBrand>\r\n          <Nav className=\"mr-auto\" navbar>\r\n          </Nav>\r\n          <Button color=\"primary\" onClick={handleLogout} >LOGOUT</Button>\r\n      </Navbar>\r\n            <ChatEngine \r\n            height=\"calc(100vh-66px)\"\r\n            projectID=\"70a93698-026d-4e33-b11e-da5e02496702\"\r\n            userName={user.email}\r\n            userSecret={user.uid}\r\n            />\r\n        </div>\r\n    )\r\n}\r\nexport default Chats\r\n","import React from 'react'\nimport Loginpage from './components/loginpage'\nimport {AuthProvider} from \"./contexts/AuthContext\";\nimport { BrowserRouter as Router,Switch,Route } from 'react-router-dom';\nimport Chats from './components/Chats';\n\nfunction App() {\n  return (\n    \n    <div>\n      <Router>\n        <AuthProvider>\n          <Switch>\n            <Route path=\"/chats\" component={Chats}/>\n            <Route path=\"/\" component={Loginpage}/>\n          </Switch>\n        </AuthProvider>\n      </Router>\n    </div>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n\n  ,document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}